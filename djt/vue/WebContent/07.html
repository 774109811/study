<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<button @click="insert">insert</button>
	<button @click="deleteTest">delete</button>
	<div id="app"></div>
</body>
<script type="text/javascript" src="jquery-3.1.1.min.js"></script>
<script type="text/javascript">
	function Vue(options) {
		//获取根元素
		var el = options.el;
		var rootElement = document.getElementById(el);
		//没隔100ms调用run
		function run() {
			//数据绑定
			//清空旧数据
			rootElement.innerHTML ="";
			var items=options.data.items;
			for (var i = 0; i < items.length; i++) {
				var item=items[i];
				rootElement.innerHTML=rootElement.innerHTML + item.title + "<br/>";
			}
		}
		//100毫秒执行一次run方法
		window.setInterval(run, 100)
		//事件绑定
		var buttons=document.getElementsByTagName("button");
		//找到所有的button
		for (var i = 0; i < buttons.length; i++) {
			var button=buttons[i];
			//取出属性值
			var attributes=button.attributes;
			for (var k = 0; k < attributes.length; k++) {
				var attribute=attributes[k];
				var name=attribute.name;
				var attributevalue=attribute.value;
					//判断属性名是不是@click
				if(name=="@click"){
					//执行函数options,判断key与属性值是否相同
					$.each(options,function(key,value){
						if(key==attributevalue){
							//事件绑定并执行
							debugger
							button.onclick=value;
						}
						
					});
				}
				
			}
		}	
	}
	
	var options={
			el:"app",
			data:{items:[]},
			insert:function(){
				var item={title:"新商品"};
				options.data.items.push(item);
			},
			deleteTest:function(){
				//移除一个元素
				options.data.items.pop();
			}
	}
	
	var vue=new Vue(options);
</script>
</html>